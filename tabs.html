<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="bootstrap.min.css"/>
</head>
<body>
	<div ng-app="components">
		<tabs>
			<pane title="Tab 1">
				<h1>Tab 1</h1>
			</pane>
			
			<pane title="Tab 2">
				<h1>Tab 2</h1>
			</pane>
		</tabs>
	</div>


	
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js"></script>
	<script type="text/javascript">
		angular.module('components', []).
			directive('tabs', function(){
				return {
					restrict: 'E',
					transclude: true,
					scope: {},
					controller: function($scope, $element) {
						var panes = $scope.panes = [];
												
						$scope.select = function(pane) {
							angular.forEach(panes, function(pane) {
								pane.selected = false;
							});
							pane.selected = true;
						}
						
						this.addPane = function(pane) {
							if(panes.length == 0) $scope.select(pane);
							panes.push(pane);
						}
						
					},
					template: 
						'<div class="tabbable">' +
						  '<ul class="nav nav-tabs">' +
							'<li ng-repeat="pane in panes" ng-class="{active:pane.selected}">'+
							  '<a href="" ng-click="select(pane)">{{pane.title}}</a>' +
							'</li>' +
						  '</ul>' +
						  '<div class="tab-content" ng-transclude></div>' +
						'</div>',
					replace: true
				};
			}).
			directive('pane', function() {
				return {
					require: '^tabs',
					restrict: 'E',
					transclude: true,
					scope: { title: '@'},
					link: function(scope, element, attrs, tabsController) {
						tabsController.addPane(scope);
					},
					template: 
						'<div class="tab-pane" ng-class="{active: selected}" ng-transclude>' +
						'</div>',
					replace: true
				};
			});
	</script>
</body>
</html>